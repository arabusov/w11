.\"  -*- nroff -*-
.\"  $Id: xise_ghdl_simprim.1 1231 2022-04-28 08:40:50Z mueller $
.\" SPDX-License-Identifier: GPL-3.0-or-later
.\" Copyright 2010-2016 by Walter F.J. Mueller <W.F.J.Mueller@gsi.de>
.\" 
.\" ------------------------------------------------------------------
.
.TH XISE_GHDL_SIMPRIM 1 2016-07-02 "Retro Project" "Retro Project Manual"
.\" ------------------------------------------------------------------
.SH NAME
xise_ghdl_simprim \- compile Xilinx ISE SIMPRIM libraries for GHDL
.\" ------------------------------------------------------------------
.SH SYNOPSIS
.
.SY xise_ghdl_simprim
.RI [ GHDL-OPTION ]...
.YS
.
.\" ------------------------------------------------------------------
.SH DESCRIPTION
\fBxise_ghdl_simprim\fP compiles the Xilinx ISE/WebPack SIMPRIM libraries
for \fBghdl\fP.
The object files generated by \fBghdl\fP are stored in the directory 
tree of the currently active version of ISE/WebPack under
\fI$XILINX/ghdl/simprim\fP.

Since direct calls to ISE tools are in general encapsulated with \fBxtwi\fP(1) 
the \fI$XTWI_PATH\fP is used instead of \fI$XILINX\fP. 
This allows using this script and \fBghdl\fP without an \fBxtwi\fP wrapper.

Just use the \fBghdl\fP option

.EX
    -P${XWTI_PATH}/ISE_DE/ISE/ghdl/unisim
.EE

to link to the SIMPRIM library.

Up to ISE 10 the VITAL models were all concatenated in one large file
\fIsimprim_VITAL.vhd\fP.
In this case the \fBxilinx_vhdl_chop\fP
helper script will create individual source files for each model.
For ISE 11 and later the modules are shipped as separate files.

The Xilinx source code has since many releases some buggy statements with
self-referential initializations. They seem to be tolerated by the commercial
tools but not by \fBghdl\fP.
The \fBxilinx_vhdl_memcolltype_fix\fP
helper script simply removes them, no further problems seen so far.
.
.\" ------------------------------------------------------------------
.SH OPTIONS
Options added after the xise_ghdl_simprim command are simply forwarded to
the 'ghdl -a' commands. In general, used to specify the optimize level.
If no options given \fI-O2 -g\fP is used.

.\" ------------------------------------------------------------------
.SH ENVIRONMENT
.IP \fBXTWI_PATH\fP
points to the root of the currently active ISE/WebPack installation.
.
.\" ------------------------------------------------------------------
.SH FILES
.IP \fI$XTWI_PATH/ISE_DS/ISE/vhdl/src/simprims\fP
The VHDL sources for the SIMPRIM library are looked for in this directory tree.
.IP \fI$XTWI_PATH/ISE_DS/ISE/ghdl/simprim\fP
The created object files will be written into this directory. The directory
is created if not yet existing. Note that the \fI$XTWI_PATH\fP
directory must be writable for the script.
.
.\" ------------------------------------------------------------------
.SH "SEE ALSO"
.BR xtwi (1),
.BR ghdl (1),
.BR xise_ghdl_unisim (1)
.
.\" ------------------------------------------------------------------
.SH AUTHOR
Walter F.J. Mueller <W.F.J.Mueller@gsi.de>
