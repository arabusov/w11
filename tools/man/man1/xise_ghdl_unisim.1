.\"  -*- nroff -*-
.\"  $Id: xise_ghdl_unisim.1 1231 2022-04-28 08:40:50Z mueller $
.\" SPDX-License-Identifier: GPL-3.0-or-later
.\" Copyright 2010-2016 by Walter F.J. Mueller <W.F.J.Mueller@gsi.de>
.\" 
.\" ------------------------------------------------------------------
.
.TH XISE_GHDL_UNISIM 1 2016-07-02 "Retro Project" "Retro Project Manual"
.\" ------------------------------------------------------------------
.SH NAME
xise_ghdl_unisim \- compile Xilinx ISE UNISIM and UNIMACRO libraries for GHDL
.\" ------------------------------------------------------------------
.SH SYNOPSIS
.
.SY xise_ghdl_unisim
.RI [ GHDL-OPTION ]...
.YS
.
.\" ------------------------------------------------------------------
.SH DESCRIPTION
\fBxise_ghdl_unisim\fP compiles the Xilinx ISE UNISIM and UNIMACRO 
libraries for \fBghdl\fP. The object files generated by \fBghdl\fP
are stored in the directory tree of the currently active version of
ISE under \fI$XILINX/ghdl/unisim\fP and \fI$XILINX/ghdl/unimacro\fP.

Since direct calls to ISE tools are in general encapsulated with \fBxtwi\fP(1) 
the \fI$XTWI_PATH\fP is used instead of \fI$XILINX\fP. 
This allows using this script and \fBghdl\fP without an \fBxtwi\fP wrapper.

Just use the \fBghdl\fP option

.EX
    -P${XWTI_PATH}/ISE_DE/ISE/ghdl/unisim
    -P${XWTI_PATH}/ISE_DE/ISE/ghdl/unimacro
.EE

to link to the UNISIM or UNIMACRO library.

The Xilinx source code has since many releases some buggy statements with
self-referential initializations. They seem to be tolerated by the commercial
tools but not by \fBghdl\fP.
The \fBxilinx_vhdl_memcolltype_fix\fP
helper script simply removes them, no further problems seen so far.
.
.\" ------------------------------------------------------------------
.SH OPTIONS
Options added after the xise_ghdl_unisim command are simply forwarded to
the 'ghdl -a' commands. In general, used to specify the optimize level.
If no options given \fI-O2 -g\fP is used.

.\" ------------------------------------------------------------------
.SH ENVIRONMENT
.IP \fBXTWI_PATH\fP
points to the root of the currently active ISE installation.
.
.\" ------------------------------------------------------------------
.SH FILES
.IP \fI$XTWI_PATH/ISE_DS/ISE/vhdl/src/unisims\fP
The VHDL sources for the Xilinx ISE UNISIM library
.IP \fI$XTWI_PATH/ISE_DS/ISE/vhdl/src/unimacro\fP
The VHDL sources for the  Xilinx ISE UNIMACRO library
.IP \fI$XTWI_PATH/ISE_DS/ISE/ghdl\fP
The created object files will be written into this directory. The directory
is created if not yet existing. Note that the \fI$XTWI_PATH\fP
directory must be writable for the script.
.
.\" ------------------------------------------------------------------
.SH "SEE ALSO"
.BR xtwi (1),
.BR ghdl (1),
.BR xise_ghdl_simprim (1),
.BR xviv_ghdl_unisim (1)
.
.\" ------------------------------------------------------------------
.SH AUTHOR
Walter F.J. Mueller <W.F.J.Mueller@gsi.de>
