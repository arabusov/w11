.\"  -*- nroff -*-
.\"  $Id: xviv_ghdl_unisim.1 1233 2022-04-30 07:01:23Z mueller $
.\" SPDX-License-Identifier: GPL-3.0-or-later
.\" Copyright 2015-2016 by Walter F.J. Mueller <W.F.J.Mueller@gsi.de>
.\" 
.\" ------------------------------------------------------------------
.
.TH XVIV_GHDL_UNISIM 1 2016-07-02 "Retro Project" "Retro Project Manual"
.\" ------------------------------------------------------------------
.SH NAME
xviv_ghdl_unisim \- compile Xilinx Vivado UNISIM and UNIMACRO libraries for GHDL
.\" ------------------------------------------------------------------
.SH SYNOPSIS
.
.SY xviv_ghdl_unisim
.RI [ GHDL-OPTION ]...
.YS
.
.\" ------------------------------------------------------------------
.SH DESCRIPTION
\fBxviv_ghdl_unisim\fP compiles the Xilinx Vivado UNISIM and UNIMACRO 
libraries for \fBghdl\fP. The object files generated by \fBghdl\fP
are stored in the directory tree of the currently active version of
Vivado under \fI$XTWV_PATH/ghdl/unisim\fP and \fI$XTWV_PATH/ghdl/unimacro\fP.

This script builds the 'retarget' version of UNISIM, thus most legacy entities
from the ISE UNISIM library are available and will be mapped to the matching
Series-7 entities.

Just use the \fBghdl\fP option

.EX
    -P${XWTI_PATH}/ghdl/unisim
    -P${XWTI_PATH}/ghdl/unimacro
.EE

to link to the UNISIM or UNIMACRO library.
\fBghdl\fP can be used without a \fBxtwv\fP wrapper.

The Xilinx source code has since many releases some buggy statements with
self-referential initializations. They seem to be tolerated by the commercial
tools but not by \fBghdl\fP.
The \fBxilinx_vhdl_memcolltype_fix\fP
helper script simply removes them, no further problems seen so far.
.
.\" ------------------------------------------------------------------
.SH OPTIONS
Options added after the xviv_ghdl_unisim command are simply forwarded to
the 'ghdl -a' commands. In general used to specify the optimize level.
If no options given \fI-O2 -g\fP is used.
.
.\" ------------------------------------------------------------------
.SH ENVIRONMENT
.IP \fBXTWV_PATH\fP
points to the root of the currently active Vivado installation.
.
.\" ------------------------------------------------------------------
.SH FILES
.IP \fI$XTWV_PATH/data/vhdl/src/unisims\fP
The VHDL sources for the Xilinx Vivado UNISIM library
.IP \fI$XTWV_PATH/data/vhdl/src/unimacro\fP
The VHDL sources for the  Xilinx Vivado UNIMACRO library
.IP \fI$XTWV_PATH/ghdl\fP
The created object files will be written into this directory. The directory
is created if not yet existing. Note that the \fI$XTWV_PATH\fP
directory must be writable for the script.
.
.\" ------------------------------------------------------------------
.SH "SEE ALSO"
.BR xtwv (1),
.BR ghdl (1)
.
.\" ------------------------------------------------------------------
.SH AUTHOR
Walter F.J. Mueller <W.F.J.Mueller@gsi.de>
